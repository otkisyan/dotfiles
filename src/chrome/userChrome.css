/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/hide_tabs_toolbar_osx.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Hides tabs toolbar - OSX only */

/* IMPORTANT */
/*
Get window_control_placeholder_support.css
Window controls will be all wrong without it
*/

:root{ --uc-toolbar-height: 20px; }

#TabsToolbar > *{ visibility: collapse !important }

#nav-bar{
  margin-top: calc(0px - var(--uc-toolbar-height));
}
 :root[inFullscreen] #navigator-toolbox{ margin-top: 12px }


html:not([privatebrowsingmode="temporary"]) #sidebar-header {
  display: none;
}

:where(#main-window) #browser {
  --uc-sidebar-width: 100px;
  --uc-sidebar-hover-width: 360px;
}
#main-window[sizemode="fullscreen"] #browser {
  --uc-sidebar-width: 1px;
}

#sidebar-box {
  --browser-area-z-index-sidebar: 3;
  position: relative;
  min-width: var(--uc-sidebar-width) !important;
  width: var(--uc-sidebar-width) !important;
  max-width: var(--uc-sidebar-width) !important;
  z-index: var(--browser-area-z-index-sidebar,3);
  background-color: inherit;
  direction: ltr;
}
#sidebar-box:is([positionend],[sidebar-positionend]):not(:-moz-locale-dir(rtl)) {
  direction: rtl;
}

.sidebar-browser-stack {
  background: inherit;
  width: 100%;
  transition: none !important;
}

#main-window[sizemode="fullscreen"] #browser {
  --uc-sidebar-width: 1px;
}

#sidebar-splitter { display: none }

#sidebar-header {
  overflow: hidden;
  color: var(--chrome-color, inherit) !important;
  padding-inline: 0 !important;
}

#sidebar-header::before,
#sidebar-header::after {
  content: "";
  display: flex;
  padding-left: 8px;
}

#sidebar-header,
#sidebar {
  transition: none !important;
  min-width: var(--uc-sidebar-width) !important;
  will-change: auto !important;
  direction: ltr;
}
#sidebar-header:-moz-locale-dir(rtl),
#sidebar:-moz-locale-dir(rtl) {
  direction: rtl;
}

#sidebar-box:hover > #sidebar-header,
#sidebar-box:hover > #sidebar,
#sidebar-box:hover > .sidebar-browser-stack > #sidebar {
  min-width: var(--uc-sidebar-hover-width) !important;
  transition: min-width 0s linear 100ms !important; 

.sidebar-panel {
  background-color: transparent !important;
  color: var(--newtab-text-primary-color) !important;
}

.sidebar-panel #search-box {
  -moz-appearance: none !important;
  background-color: rgba(249,249,250,0.1) !important;
  color: inherit !important;
}

#sidebar,
#sidebar-header {
  background-color: inherit !important;
  border-inline: 1px solid rgb(80,80,80);
  border-inline-width: 0px 1px;
}

#sidebar-box:not([positionend],[sidebar-positionend]) > :-moz-locale-dir(rtl),
#sidebar-box:is([positionend],[sidebar-positionend]) > * {
  border-inline-width: 1px 0px;
}

@media -moz-pref("sidebar.revamp") {
  #sidebar, #sidebar-header { border-style: none }
  #sidebar-box { padding: 0 !important; }
}

#sidebar-box:not([positionend],[sidebar-positionend]):hover ~ #appcontent #statuspanel {
  inset-inline: auto 0px !important;
}
#sidebar-box:not([positionend],[sidebar-positionend]):hover ~ #appcontent #statuspanel-label {
  margin-inline: 0px !important;
  border-left-style: solid !important;
}

@media -moz-pref("userchrome.autohide-sidebar.static-layout.enabled") {
  #sidebar-box {
    min-width: var(--uc-sidebar-width) !important;
    contain: size;
    box-shadow: var(--content-area-shadow);
  }
  #sidebar {
    min-width: var(--uc-sidebar-hover-width) !important;
  }
  .sidebar-browser-stack {
    overflow: hidden;
    width: 100%;
    transition: none !important;
    direction: ltr;
  }
  #sidebar-box[sidebar-positionend]:hover :is(#sidebar-header,#sidebar):-moz-locale-dir(ltr) {
    transform: none !important;
    transition: none !important;
  }
  #sidebar-box:not([sidebar-positionend]):hover .sidebar-browser-stack:-moz-locale-dir(rtl) {
    transform: none !important;
    transition: none !important;
  }
  #sidebar-box[sidebar-positionend]:hover > .sidebar-browser-stack:-moz-locale-dir(rtl) {
    transform: none !important;
    transition: none !important;
  }
}

